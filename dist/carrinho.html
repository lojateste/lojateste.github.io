<!DOCTYPE html><html lang="pt-br"><head><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta charset="UTF-8"><title>Sua Loja</title></head><body><nav class="nav-wrapper blue-gradient"><div class="container mid-row"><ul class="action-bar"><li><a class="open-side-nav btn-floating waves-effect waves-light" data-activates="side-nav"><i class="fa fa-bars" aria-hidden="true"></i></a></li><li class="spacer"></li><li class="home-btn"><a href="home.html" class="btn waves-effect waves-light"><img src="img/store/logo-md.png" alt="Vip Informática "></a></li><li class="spacer"></li><li class="search-bar"><div class="overlay"></div><form action="pesquisa.html"><input type="text" autocomplete="off" placeholder="Olá, o que você procura?" class="browser-default z-depth-2" name="search"> <button type="submit" class="search-btn"><i class="fa fa-search" aria-hidden="true"></i></button></form><ul class="search-list"><li><a href="">Smart TV LED 42" LG 4k/Ultra HD 43UJ6565</a></li><li><a href="">Smart TV LED 42" LG 4k/Ultra HD 43UJ6565</a></li><li><a href="">Smart TV LED 42" LG 4k/Ultra HD 43UJ6565</a></li><li><a href="">Smart TV LED 42" LG 4k/Ultra HD 43UJ6565</a></li><li><a href="">Smart TV LED 42" LG 4k/Ultra HD 43UJ6565</a></li><li><a href="">Smart TV LED 42" LG 4k/Ultra HD 43UJ6565</a></li></ul></li><li><a href="carrinho.html" class="btn-floating waves-effect waves-light"><i class="fa fa-shopping-cart" aria-hidden="true"></i></a></li></ul></div></nav><aside><ul id="side-nav" class="side-nav blue-gradient"><li class="title"><a href="home.html">Home</a></li><li class="title"><a href="login.html">Login</a></li><li class="title"><a href="favoritos.html">Favoritos</a></li><li class="title"><a>Categorias</a></li><li><a href="categorias.html">Computadores</a></li><li class="no-padding"><ul class="collapsible collapsible-accordion"><li><a class="collapsible-header">Smartphones<i class="fa fa-caret-down right" aria-hidden="true"></i></a><div class="collapsible-body"><ul><li><a href="categorias.html">Motorola</a></li><li><a href="categorias.html">Apple</a></li><li><a href="categorias.html">Samsung<span class="new badge">4</span></a></li><li><a href="categorias.html">Xiaomi</a></li></ul></div></li></ul></li><li><a href="categorias.html">Notebooks<span class="new badge">2</span></a></li><li><a href="categorias.html">Acessórios</a></li></ul></aside><main id="main"><div class="container"><h2>Meu Carrinho</h2><!-- Carrinho --><div class="product-cart row"><div class="col s12 m6 l12"><div class="cart-product"><div class="row"><div class="delete-btn btn-floating waves-effect white"><i class="fa fa-close grey-text" aria-hidden="true"></i></div><div class="col s4 l2 valign-on-large"><img src="img/products/2-PLACAVIDEO.jpg" alt="" class="product-img"></div><div class="col s8 l5 valign-on-large"><h3 class="card-title">Gpu R5 230 2gb Core Radeon 128bits Ddr3 650m Xfx R5-230a-clf</h3></div><div class="col s4 l2 valign-on-large"><div class="item-qnt"><label>Quantidade</label><select class="browser-default"><option value="1" selected="selected">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option></select></div></div><div class="col s8 l3 valign-on-large"><div class="product-info"><p>R$ <span data-value="49,99" class="price">49,99</span> ou</p><p>R$ <span data-value="46,99" class="cash-price">46,99</span> à vista</p></div></div></div></div></div><div class="col s12 m6 l12"><div class="cart-product"><div class="row"><div class="delete-btn btn-floating waves-effect white"><i class="fa fa-close grey-text" aria-hidden="true"></i></div><div class="col s4 l2 valign-on-large"><img src="img/products/1-CAPANOTEBOOK.jpg" alt="" class="product-img"></div><div class="col s8 l5 valign-on-large"><h3 class="card-title">Case Nylon Multilaser para Tablet e Netbook Dupla Camada Ate 10Pol</h3></div><div class="col s4 l2 valign-on-large"><div class="item-qnt"><label>Quantidade</label><select class="browser-default"><option value="1" selected="selected">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option></select></div></div><div class="col s8 l3 valign-on-large"><div class="product-info"><p>R$ <span data-value="49,99" class="price">49,99</span> ou</p><p>R$ <span data-value="46,99" class="cash-price">46,99</span> à vista</p></div></div></div></div></div><div class="col s12 m6 l12"><div class="cart-product"><div class="row"><div class="delete-btn btn-floating waves-effect white"><i class="fa fa-close grey-text" aria-hidden="true"></i></div><div class="col s4 l2 valign-on-large"><img src="img/products/11-MEMORIASSD.jpg" alt="" class="product-img"></div><div class="col s8 l5 valign-on-large"><h3 class="card-title">Hd Ssd 240gb Sata 3 Kingston A400 Mais Novo Que Uv400</h3></div><div class="col s4 l2 valign-on-large"><div class="item-qnt"><label>Quantidade</label><select class="browser-default"><option value="1" selected="selected">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option></select></div></div><div class="col s8 l3 valign-on-large"><div class="product-info"><p>R$ <span data-value="49,99" class="price">49,99</span> ou</p><p>R$ <span data-value="46,99" class="cash-price">46,99</span> à vista</p></div></div></div></div></div></div><div class="row"><div class="col s12 m5"><div class="product-freight"><div class="form-freight"><label for="user-cep">Calcular frete</label><input id="user-cep" type="text"> <button class="submit-freight btn waves-effect blue-gradient waves-light">OK</button></div><div class="freight-info row hide"><div class="col s6">CEP <span class="user-cep"></span> <a class="reset-freight grey-text">Alterar</a></div><div class="col s6 right-align"><b><span class="freight-value"></span></b></div></div></div></div><div class="col s12 m7"><div class="product-final-info"><div class="row"><div class="col s6">Subtotal</div><div class="col s6 right-align blue-text">R$ <span data-value="149,97" class="price">149,97</span> ou<br>R$ <span data-value="141,97" class="cash-price">141,97</span> à vista</div><a href="#discount-coupom" class="col grey-text text-darken-3 s12 modal-trigger right-align">Adicionar Cupom</a></div></div></div></div><div class="cart-action-bar"><a href="home.html" class="btn waves-effect waves-light blue-gradient">Escolher Mais Produtos</a> <a href="login.html" class="buy-btn btn waves-effect waves-light green">Comprar</a></div><!-- Modal --><div id="freight-info" class="modal"><div class="modal-content"><strong>Envio para Pernambuco (Caruaru)</strong><p><input name="freight" type="radio" id="freight-opt-0" value="0"><!-- não mudar o id deste elemento --><label for="freight-opt-0">Retirar da loja - <b>Grátis</b><br>A partir de 2 dias úteis.</label></p><p><input name="freight" type="radio" id="freight-opt-1" value="23,90" checked="checked"><label for="freight-opt-1">Normal - <b>R$ 23,90</b><br>Chegará entre os dias 6 e 8 de fevereiro.</label></p><p><input name="freight" type="radio" id="freight-opt-2" value="47,90"><label for="freight-opt-2">Expresso - <b>R$ 47,90</b><br>Chegará entre os dias 31/jan e 02/fev.</label></p></div><div class="modal-footer"><a class="set-freight modal-action modal-close waves-effect waves-green btn-flat">Aceitar</a> <a class="modal-action modal-close waves-effect waves-red btn-flat">Fechar</a></div></div><!-- Modal --><!-- Modal --><div id="select-store" class="modal"><div class="modal-content"><div class="input-field"><select><option value="caruaru" selected="selected">Caruaru</option><option value="recife">Recife</option><option value="petrolina">Petrolina</option></select><label>Selecione uma loja</label></div></div><div class="modal-footer"><a class="modal-action modal-close waves-effect waves-green btn-flat">Aceitar</a><!-- <a class="modal-action modal-close waves-effect waves-red btn-flat">Fechar</a> --></div></div><!-- Modal --><!-- Modal --><div id="discount-coupom" class="modal"><form><div class="modal-content"><div class="input-field"><input id="coupom-code" name="coupom-code" type="text" required><label for="coupom-code">Cupom Desconto</label></div></div><div class="modal-footer"><button type="submit" class="modal-action waves-effect waves-green btn-flat">Enviar</button> <a href="#!" class="modal-action modal-close waves-effect waves-red btn-flat">Cancelar</a></div></form></div><!-- Modal --><!-- Carrinho --><!-- Ofertas Imperdíveis --><h2>Aproveite e leve também!</h2><div class="owl-carousel featured-items owl-theme"><div class="col s6 m4 l3"><div class="product-card hoverable card"><a href="produto-detalhe.html"><div class="card-image"><img src="img/products/2-PLACAVIDEO.jpg" alt="" class="product-img"></div><div class="card-content"><span class="card-title">Gpu R5 230 2gb Core Radeon 128bits Ddr3 650m Xfx R5-230a-clf</span><div class="product-rating"><i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star empty" aria-hidden="true"></i></div><br><b>Ofertas a partir de:</b><br><span class="product-price">R$ 49,99</span><br><span>10x de R$ 4,99 sem juros</span></div></a></div></div><div class="col s6 m4 l3"><div class="product-card hoverable card"><a href="produto-detalhe.html"><div class="card-image"><img src="img/products/11-MEMORIASSD.jpg" alt="" class="product-img"></div><div class="card-content"><span class="card-title">Hd Ssd 240gb Sata 3 Kingston A400 Mais Novo Que Uv400</span><div class="product-rating"><i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star empty" aria-hidden="true"></i></div><br><b>Ofertas a partir de:</b><br><span class="product-price">R$ 49,99</span><br><span>10x de R$ 4,99 sem juros</span></div></a></div></div><div class="col s6 m4 l3"><div class="product-card hoverable card"><a href="produto-detalhe.html"><div class="card-image"><img src="img/products/3-COOLEER.jpg" alt="" class="product-img"></div><div class="card-content"><span class="card-title">Mini Geladeira Cooler Auto 7l Tv008 12volts Multilaser</span><div class="product-rating"><i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star empty" aria-hidden="true"></i></div><br><b>Ofertas a partir de:</b><br><span class="product-price">R$ 49,99</span><br><span>10x de R$ 4,99 sem juros</span></div></a></div></div><div class="col s6 m4 l3"><div class="product-card hoverable card"><a href="produto-detalhe.html"><div class="card-image"><img src="img/products/4-PELICULAS.jpg" alt="" class="product-img"></div><div class="card-content"><span class="card-title">Película De Vidro No Atacado Todos Modelos Cada Unidade</span><div class="product-rating"><i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star" aria-hidden="true"></i> <i class="fa fa-star empty" aria-hidden="true"></i></div><br><b>Ofertas a partir de:</b><br><span class="product-price">R$ 49,99</span><br><span>10x de R$ 4,99 sem juros</span></div></a></div></div></div><!-- Ofertas Imperdíveis --></div></main><footer class="page-footer blue-gradient"><div class="container"><strong>Precisa de ajuda?</strong><br><br><span>Atendimento por e-mail, telefone e dúvidas frequentes.</span> <a href="">Clique aqui.</a><br><hr><strong>Conecte-se conosco</strong><br><div class="center-align"><a class="btn-floating btn-large waves-effect white"><i class="fa fa-facebook blue-text text-darken-2"></i> </a><a class="btn-floating btn-large waves-effect white"><i class="fa fa-instagram blue-text text-darken-2"></i> </a><a class="btn-floating btn-large waves-effect white"><i class="fa fa-phone blue-text text-darken-2"></i></a></div><hr><span>Todas as regras e promoções são válidas apenas para produtos vendidos e entregues por Sua Loja. O valor de oferta do produto seŕa garantido após a finalização da compra. Havendo divergência, prevalecerá o menor preço ofertado.</span><br><br></div><div class="footer-copyright"><div class="container">© 2018 Sua Loja. Todos os Direitos Reservados</div></div></footer></body><!-- CSS --><link type="text/css" rel="stylesheet" href="css/carrinho.css"><!-- JQuery --><script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script><!-- Materialize --><script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.js"></script><!-- JQuery Mask --><script src="js/jquery.mask.min.js"></script><!-- OwlCarousel --><script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.2.1/owl.carousel.min.js"></script><!-- JavaScript --><script src="js/main.js"></script><!-- Custom Script --><script>// Gatilhos do JQuery mask
  $('#user-cep').mask('00000-000')


  responsiveCarousel = {
    0: {
      items: 1
    },
    450: {
      items: 2
    },
    601: {
      items: 3
    },
    1200: {
      items: 4
    }

  }

  // Gatilhos do Owl carousel
  $('.materialboxed').materialbox()

  $('.modal').modal()

  $('select').material_select()

  $('.collapsible').collapsible()


  $('.product-details .owl-carousel').owlCarousel({
    loop: true,
    margin: 10,
    dots: true,
    responsive: {
      0: {
        items: 1
      }
    }
  })

  $('.owl-carousel.featured-items').owlCarousel({
    loop: true,
    margin: 10,
    dots: true,
    autoplay: true,
    autoplayHoverPause: true,
    autoplayTimeout: 3000,
    responsive: responsiveCarousel
  })


  // Funções do carrinho de compras
  function formatBRL(value) {
    return Math.floor(value / 100) + ((value % 100 > 9) ? ',' + value % 100 : ',0' + value % 100)
  }

  // Cupom Desconto
  let discountValue = 0
  $('#discount-coupom form').submit(function(event){
    event.preventDefault()
    $('#coupom-code').val('')
    // TODO: pegar dados de uma API
    discountValue = 0.10
    $('.product-final-info .modal-trigger[href="#discount-coupom"]').html(discountValue * 100 + '% de desconto')
    $('#discount-coupom').modal('close')
    refreshTotalValue()
  })

  function refreshTotalValue() {
    let freightPrice = $('.product-freight .freight-value')
    freightPrice = parseInt(freightPrice.text().replace(',', '').replace('R$', ''))
    if (isNaN(freightPrice)) {
      freightPrice = 0
    }

    let totalValueArray = $('.cart-product .price')
    let totalValue = 0
    totalValueArray.each(function(index, item) {
      totalValue += parseInt(($(item).text()).replace(',', ''))
    })
    totalValue = Math.round((totalValue + freightPrice) * (1 - discountValue))
    $('.product-final-info .price').html('R$ ' + formatBRL(totalValue))


    let cashValueArray = $('.cart-product .cash-price')
    let cashValue = 0
    cashValueArray.each(function(index, item) {
      cashValue += parseInt(($(item).text()).replace(',', ''))
    })
    cashValue = Math.round((cashValue + freightPrice) * (1 - discountValue))
    $('.product-final-info .cash-price').html('R$ ' + formatBRL(cashValue))
  }

  $('.submit-freight').click(function() {
    if ($('#user-cep').val().length === 9) {
      $('#freight-info').modal('open')
    } else {
      alert('Digite um CEP válido!')
    }
  })

  $('.set-freight').click(function() {
    if($('#freight-opt-0:checked').length){
      $('#select-store').modal('open')
    }
    let value = $('#freight-info [name=freight]:checked').val()
    $('.product-freight .form-freight').addClass('hide')
    $('.product-freight .freight-info').removeClass('hide')
    $('.product-freight .user-cep').html($('#user-cep').val())
    if(value != 0){
      $('.product-freight .freight-value').html('R$ ' + value)
    }else{
      $('.product-freight .freight-value').html('Grátis')
    }
    refreshTotalValue()
  })

  $('.reset-freight').click(function() {
    $('.product-freight .form-freight').removeClass('hide')
    $('.product-freight .freight-info').addClass('hide')
    $('#user-cep').val('')
  })

  $('.item-qnt select').on('change', function() {
    let cartProduct = $(this).closest('.cart-product')
    let value = cartProduct.find('.price').attr('data-value')
    let cashValue = cartProduct.find('.cash-price').attr('data-value')
    value = formatBRL(value.replace(',', '') * $(this).val())
    cashValue = formatBRL(cashValue.replace(',', '') * $(this).val())
    cartProduct.find('.price').html(value)
    cartProduct.find('.cash-price').html(cashValue)
    refreshTotalValue()
  })

  $('.cart-product .delete-btn').click(function() {
    $(this).closest('.cart-product').remove()
    refreshTotalValue()
  })</script></html>